<?php defined('BASEPATH') OR exit('No direct script access allowed'); ?>

ERROR - 2025-08-24 17:20:17 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:20:17 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:20:17 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:20:21 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:20:21 --> Could not find the language line "customer_types_description (TBD)"
ERROR - 2025-08-24 17:20:21 --> Could not find the language line "customer_types_name_required (TBD)"
ERROR - 2025-08-24 17:24:22 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:24:22 --> Could not find the language line "customer_types_description (TBD)"
ERROR - 2025-08-24 17:24:22 --> Could not find the language line "customer_types_name_required (TBD)"
ERROR - 2025-08-24 17:24:25 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:24:25 --> Could not find the language line "customer_types_description (TBD)"
ERROR - 2025-08-24 17:24:25 --> Could not find the language line "customer_types_name_required (TBD)"
ERROR - 2025-08-24 17:26:00 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:26:00 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:26:00 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:27:15 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:27:15 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:27:15 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:27:36 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:22 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:28:37 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:45 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:29:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:31 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:30:31 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:32 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:54 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:30:54 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:30:55 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:16 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:31:16 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:31:17 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:32:02 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:32:02 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:32:02 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:32:02 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:32:02 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:33:15 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:33:15 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:33:30 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:33:30 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:34:26 --> Could not find the language line "customer_types_delete (TBD)"
ERROR - 2025-08-24 17:34:33 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:34:33 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:34:54 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:34:54 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:35:08 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:35:08 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:35:35 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:35:35 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:35:35 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:35:39 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:35:50 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:35:57 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:35:57 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:35:57 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:12 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:37:12 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:12 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:19 --> Could not find the language line "customer_types_no_customer_types_to_display (TBD)"
ERROR - 2025-08-24 17:37:20 --> Could not find the language line "customer_types_confirm_restore (TBD)"
ERROR - 2025-08-24 17:37:22 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:37:22 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:22 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:41 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:37:41 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:41 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` DESC
 LIMIT 25
ERROR - 2025-08-24 17:37:41 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:42 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:37:42 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:44 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` DESC
 LIMIT 25
ERROR - 2025-08-24 17:37:44 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:45 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:37:45 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:45 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` DESC
 LIMIT 25
ERROR - 2025-08-24 17:37:45 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:46 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:37:46 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:37:48 --> Could not find the language line "customer_types_name (TBD)"
ERROR - 2025-08-24 17:37:48 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:48 --> Could not find the language line "customer_types (TBD)"
ERROR - 2025-08-24 17:37:51 --> Query error: Unknown column 'ospos_customer_types.name' in 'order clause' - Invalid query: SELECT *
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ORDER BY `ospos_customer_types`.`name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:37:51 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 69
ERROR - 2025-08-24 17:40:45 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:40:45 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ERROR - 2025-08-24 17:40:45 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:40:48 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:40:48 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ERROR - 2025-08-24 17:40:48 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:41:01 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:41:01 --> Query error: Column 'deleted' in where clause is ambiguous - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`first_name` LIKE '%%' ESCAPE '!'
OR  `last_name` LIKE '%%' ESCAPE '!'
OR  `email` LIKE '%%' ESCAPE '!'
OR  `phone_number` LIKE '%%' ESCAPE '!'
OR  `account_number` LIKE '%%' ESCAPE '!'
OR  `company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(first_name, " ", last_name) LIKE '%%' ESCAPE '!'
 )
AND `deleted` = 0
ERROR - 2025-08-24 17:41:01 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:42:25 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:42:25 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:42:25 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:42:36 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:42:36 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:42:36 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:43:20 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:43:20 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:43:20 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 445
ERROR - 2025-08-24 17:44:07 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:44:07 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:44:07 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:44:30 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:44:30 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:44:30 --> Severity: error --> Exception: Call to a member function row() on bool C:\laragon\www\ospos\application\models\Customer.php 438
ERROR - 2025-08-24 17:45:10 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.`person_id`, `customers`.`company_name`, `customers`.`account_number`, `customers`.`taxable`, `customers`.`tax_id`, `customers`.`sales_tax_code_id`, `customers`.`discount`, `customers`.`discount_type`, `customers`.`package_id`, `customers`.`customer_type_id`, `customers`.`points`, `customers`.`deleted`, `customers`.`date`, `customers`.`employee_id`, `customers`.`consent`, `ospos_people`.`first_name`, `ospos_people`.`last_name`, `ospos_people`.`email`, `ospos_people`.`phone_number`, `ospos_people`.`address_1`, `ospos_people`.`address_2`, `ospos_people`.`city`, `ospos_people`.`state`, `ospos_people`.`zip`, `ospos_people`.`country`, `ospos_people`.`comments`, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
 LIMIT 25
ERROR - 2025-08-24 17:45:10 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:45:10 --> Customer::search count query failed: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:45:10 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 70
ERROR - 2025-08-24 17:51:56 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:51:56 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:51:56 --> Customer::search count query failed: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:51:56 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 70
ERROR - 2025-08-24 17:51:58 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:51:58 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:51:58 --> Customer::search count query failed: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:51:58 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 70
ERROR - 2025-08-24 17:57:13 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:57:13 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:57:13 --> Customer::search count query failed: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 17:57:13 --> Severity: error --> Exception: Call to a member function result() on bool C:\laragon\www\ospos\application\controllers\Customers.php 70
ERROR - 2025-08-24 17:58:31 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:58:31 --> Customer search returned FALSE in controller
ERROR - 2025-08-24 17:58:37 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:58:37 --> Customer search returned FALSE in controller
ERROR - 2025-08-24 17:58:51 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:58:51 --> Customer search returned FALSE in controller
ERROR - 2025-08-24 17:59:22 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 17:59:22 --> Customer search returned FALSE in controller
ERROR - 2025-08-24 18:02:49 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 18:02:49 --> Customer::search query failed: SELECT `customers`.*, `ospos_people`.*, `ospos_customer_types`.`name` as `customer_type_name`
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ORDER BY `ospos_people`.`last_name` ASC
 LIMIT 25
ERROR - 2025-08-24 18:02:49 --> Customer::search DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'people.first_name' in 'where clause'
)

ERROR - 2025-08-24 18:02:49 --> Query error: Unknown column 'people.first_name' in 'where clause' - Invalid query: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 18:02:49 --> Customer::search count query failed: SELECT COUNT(customers.person_id) as count
FROM `ospos_customers` AS `customers`
JOIN `ospos_people` ON `customers`.`person_id` = `ospos_people`.`person_id`
LEFT JOIN `ospos_customer_types` ON `ospos_customer_types`.`customer_type_id` = `customers`.`customer_type_id`
WHERE   (
`ospos_people`.`first_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`last_name` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`email` LIKE '%%' ESCAPE '!'
OR  `ospos_people`.`phone_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`account_number` LIKE '%%' ESCAPE '!'
OR  `customers`.`company_name` LIKE '%%' ESCAPE '!'
OR  CONCAT(people.first_name, " ", people.last_name) LIKE '%%' ESCAPE '!'
 )
AND `customers`.`deleted` = 0
ERROR - 2025-08-24 18:05:59 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:05:59 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:08:22 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:08:22 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:08:36 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:08:36 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:09:05 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:09:05 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:12:44 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:12:44 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:12:49 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:12:49 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:13:05 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:13:05 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:16:47 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:16:47 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:18:05 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:18:05 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:20:30 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:20:30 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:20:52 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:20:52 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:22:07 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:22:07 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:22:49 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:22:49 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:23:29 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:23:29 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:23:49 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:23:49 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:24:16 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:24:16 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:24:56 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:24:56 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:25:07 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:25:07 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:27:23 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:27:23 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:31:04 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:31:04 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:35:44 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:35:44 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:36:02 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:36:02 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:36:02 --> Severity: Notice --> Undefined variable: quantity C:\laragon\www\ospos\application\views\sales\receipt_suspended.php 146
ERROR - 2025-08-24 18:36:16 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:36:16 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:36:55 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:36:55 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:37:50 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:37:50 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:37:54 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:37:54 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:38:02 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:38:02 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:38:35 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:38:35 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:38:48 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:38:48 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:38:51 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:38:51 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:41:49 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:41:49 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:41:49 --> Severity: Notice --> Undefined variable: discount_amount C:\laragon\www\ospos\application\views\sales\receipt_suspended.php 143
ERROR - 2025-08-24 18:41:57 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:41:57 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:42:11 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:42:11 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:42:20 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:42:20 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:45:22 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:45:22 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:45:22 --> Severity: Notice --> A non well formed numeric value encountered C:\laragon\www\ospos\application\views\sales\receipt_suspended.php 143
ERROR - 2025-08-24 18:45:42 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:45:42 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:47:47 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:47:47 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:48:47 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:48:47 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:49:35 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:49:35 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:49:48 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:49:48 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:51:56 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:51:56 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:52:04 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:52:04 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:53:26 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:53:26 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:53:48 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:53:48 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:53:48 --> Severity: Notice --> Undefined index: percent C:\laragon\www\ospos\application\views\sales\receipt_suspended.php 183
ERROR - 2025-08-24 18:54:02 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:54:02 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:54:29 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:54:29 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:54:36 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:54:36 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:54:43 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:54:43 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:54:54 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:54:54 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:56:23 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:56:23 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:56:31 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:56:31 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:56:41 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:56:41 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:56:50 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:56:50 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:57:27 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:57:27 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 18:58:01 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 18:58:01 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:01:56 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:01:56 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:02:05 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:02:05 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:02:17 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:02:17 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:02:21 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:02:21 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:02:57 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:02:57 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:03:09 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:03:09 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:04:38 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:04:38 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:04:55 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:04:55 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:04:59 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:04:59 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:05:11 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:05:11 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:05:17 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:05:17 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:11:56 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:11:56 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:12:17 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:12:17 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:14:26 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:14:26 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:17:48 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:17:48 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:18:29 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:18:29 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:19:19 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:19:19 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:21:22 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:21:22 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:21:31 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:21:31 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:21:46 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:21:46 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:22:30 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:22:30 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:23:25 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:23:25 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:23:40 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:23:40 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:24:00 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:24:00 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:24:18 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:24:18 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:26:12 --> Could not find the language line "config_vat_number (TBD)"
ERROR - 2025-08-24 19:28:33 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:28:33 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:32:47 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:32:47 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:32:50 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:32:50 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:34:04 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:34:04 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:34:23 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:34:23 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:34:42 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:34:42 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:34:48 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:34:48 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:35:23 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:35:23 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:35:39 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:35:39 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:35:45 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:35:45 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:36:10 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:36:10 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:42:29 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:42:29 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:44:03 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:44:03 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:44:59 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:44:59 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:45:33 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:45:33 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:46:53 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:46:53 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:48:04 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:48:04 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:48:04 --> Severity: error --> Exception: syntax error, unexpected '<', expecting end of file C:\laragon\www\ospos\application\views\sales\invoice.php 80
ERROR - 2025-08-24 19:48:11 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:48:11 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:48:52 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:48:52 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:49:05 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:49:05 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:49:41 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '2'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:49:41 --> Customer::get_stats query failed for customer_id 2 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 19:58:15 --> Severity: Notice --> Undefined offset: 1 C:\laragon\www\ospos\application\libraries\Sale_lib.php 1064
ERROR - 2025-08-24 19:58:15 --> Severity: Notice --> Trying to access array offset on value of type null C:\laragon\www\ospos\application\libraries\Sale_lib.php 1064
ERROR - 2025-08-24 19:59:43 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 19:59:43 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 20:01:14 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 20:01:14 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 20:02:01 --> Severity: Notice --> Undefined index: payment_time C:\laragon\www\ospos\application\views\sales\invoice.php 218
ERROR - 2025-08-24 20:02:01 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 20:02:01 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 20:02:34 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 20:02:34 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 20:03:00 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 20:03:00 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

ERROR - 2025-08-24 20:03:06 --> Query error: Unknown column 'sales_items_temp.avg_discount' in 'field list' - Invalid query: SELECT SUM(sales_payments.payment_amount - sales_payments.cash_refund) AS total, MIN(sales_payments.payment_amount - sales_payments.cash_refund) AS min, MAX(sales_payments.payment_amount - sales_payments.cash_refund) AS max, AVG(sales_payments.payment_amount - sales_payments.cash_refund) AS average, ROUND(AVG(sales_items_temp.avg_discount), 2) AS avg_discount, ROUND(SUM(sales_items_temp.quantity), 0) AS quantity
FROM `ospos_sales`
JOIN `ospos_sales_payments` AS `sales_payments` ON `ospos_sales`.`sale_id` = `sales_payments`.`sale_id`
JOIN `ospos_sales_items_temp` AS `sales_items_temp` ON `ospos_sales`.`sale_id` = `sales_items_temp`.`sale_id`
WHERE `ospos_sales`.`customer_id` = '4'
AND `ospos_sales`.`sale_status` = 0
GROUP BY `ospos_sales`.`customer_id`
ERROR - 2025-08-24 20:03:06 --> Customer::get_stats query failed for customer_id 4 - DB error: Array
(
    [code] => 1054
    [message] => Unknown column 'sales_items_temp.avg_discount' in 'field list'
)

